{"ast":null,"code":"import _slicedToArray from \"/Users/Angel/Desktop/recetas/recetasfavoritas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Angel/Desktop/recetas/recetasfavoritas/src/context/index.js\";\nimport React, { useState, useEffect } from 'react';\nconst RecipeContext = React.createContext();\nlet api = \"https://api.myjson.com/bins/t7szj\";\nconst apiKey = \"7cdab426afc366070dab735500555521\";\n\nconst RecipeProvider = props => {\n  let url = \"https://www.food2fork.com/api/search?key=\".concat(apiKey);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showHomeButton = _useState2[0],\n        setShowHomeButton = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        recipes = _useState4[0],\n        setRecipes = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        search = _useState8[0],\n        setSearch = _useState8[1];\n\n  const fetchRecipe = async () => {\n    try {\n      const recipeData = await fetch(api);\n\n      const _ref = await recipeData.json(),\n            recipes = _ref.recipes;\n\n      setRecipes(recipes);\n      setLoading(false);\n      console.log(recipes);\n    } catch (e) {\n      if (e) {\n        console.log(e.message, 'Try updating the API key in App.js');\n      }\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      setLoading(true);\n      const searchUrl = \"\".concat(url, \"&q=\").concat(search);\n      const searchedRecipeData = await fetch(searchUrl);\n\n      const _ref2 = await searchedRecipeData.json(),\n            recipes = _ref2.recipes;\n\n      setRecipes(recipes);\n      setLoading(false);\n      setShowHomeButton(true);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleSearchChange = e => {\n    setSearch(e.target.value);\n  };\n\n  const handleReturnHome = () => {\n    fetchRecipe();\n    setShowHomeButton(false);\n  };\n\n  useEffect(() => {\n    fetchRecipe();\n  }, []);\n  return React.createElement(RecipeContext.Provider, {\n    value: {\n      loading,\n      search,\n      showHomeButton,\n      recipes,\n      handleSearchChange,\n      handleSubmit,\n      handleReturnHome\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, props.children);\n};\n\nconst RecipeConsumer = RecipeContext.Consumer;\nexport { RecipeProvider, RecipeConsumer, RecipeContext };","map":{"version":3,"sources":["/Users/Angel/Desktop/recetas/recetasfavoritas/src/context/index.js"],"names":["React","useState","useEffect","RecipeContext","createContext","api","apiKey","RecipeProvider","props","url","showHomeButton","setShowHomeButton","recipes","setRecipes","loading","setLoading","search","setSearch","fetchRecipe","recipeData","fetch","json","console","log","e","message","handleSubmit","preventDefault","searchUrl","searchedRecipeData","handleSearchChange","target","value","handleReturnHome","children","RecipeConsumer","Consumer"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,MAAMC,aAAa,GAAGH,KAAK,CAACI,aAAN,EAAtB;AACA,IAAIC,GAAG,sCAAP;AACA,MAAMC,MAAM,qCAAZ;;AACA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAChC,MAAIC,GAAG,sDAA+CH,MAA/C,CAAP;;AADgC,oBAEYL,QAAQ,CAAC,KAAD,CAFpB;AAAA;AAAA,QAEzBS,cAFyB;AAAA,QAETC,iBAFS;;AAAA,qBAGFV,QAAQ,CAAC,EAAD,CAHN;AAAA;AAAA,QAGzBW,OAHyB;AAAA,QAGhBC,UAHgB;;AAAA,qBAIFZ,QAAQ,CAAC,IAAD,CAJN;AAAA;AAAA,QAIzBa,OAJyB;AAAA,QAIhBC,UAJgB;;AAAA,qBAKJd,QAAQ,CAAC,EAAD,CALJ;AAAA;AAAA,QAKzBe,MALyB;AAAA,QAKjBC,SALiB;;AAOhC,QAAMC,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,YAAMC,UAAU,GAAG,MAAMC,KAAK,CAACf,GAAD,CAA9B;;AADE,mBAEkB,MAAMc,UAAU,CAACE,IAAX,EAFxB;AAAA,YAEMT,OAFN,QAEMA,OAFN;;AAGFC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACAG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACD,KAND,CAME,OAAOY,CAAP,EAAU;AACV,UAAIA,CAAJ,EAAO;AACLF,QAAAA,OAAO,CAACC,GAAR,CAAYC,CAAC,CAACC,OAAd,EAAuB,oCAAvB;AACD;AACF;AACF,GAZD;;AAaA,QAAMC,YAAY,GAAG,MAAOF,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACG,cAAF;;AACA,QAAI;AACFZ,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMa,SAAS,aAAMnB,GAAN,gBAAeO,MAAf,CAAf;AACA,YAAMa,kBAAkB,GAAG,MAAMT,KAAK,CAACQ,SAAD,CAAtC;;AAHE,oBAIkB,MAAMC,kBAAkB,CAACR,IAAnB,EAJxB;AAAA,YAIMT,OAJN,SAIMA,OAJN;;AAKFC,MAAAA,UAAU,CAACD,OAAD,CAAV;AACAG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAJ,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KARD,CAQE,OAAOa,CAAP,EAAU;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACD;AACF,GAbD;;AAcA,QAAMM,kBAAkB,GAAIN,CAAD,IAAO;AAChCP,IAAAA,SAAS,CAACO,CAAC,CAACO,MAAF,CAASC,KAAV,CAAT;AACD,GAFD;;AAGA,QAAMC,gBAAgB,GAAG,MAAM;AAC7Bf,IAAAA,WAAW;AACXP,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD,GAHD;;AAKAT,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,WAAW;AAEZ,GAHQ,EAGN,EAHM,CAAT;AAKA,SACE,oBAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAE;AAC7BJ,MAAAA,OAD6B;AAE7BE,MAAAA,MAF6B;AAG7BN,MAAAA,cAH6B;AAI7BE,MAAAA,OAJ6B;AAK7BkB,MAAAA,kBAL6B;AAM7BJ,MAAAA,YAN6B;AAO7BO,MAAAA;AAP6B,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGzB,KAAK,CAAC0B,QATT,CADF;AAaD,CA5DD;;AA6DA,MAAMC,cAAc,GAAGhC,aAAa,CAACiC,QAArC;AACA,SAAS7B,cAAT,EAAyB4B,cAAzB,EAAyChC,aAAzC","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nconst RecipeContext = React.createContext()\nlet api = `https://api.myjson.com/bins/t7szj`\nconst apiKey = `7cdab426afc366070dab735500555521`\nconst RecipeProvider = (props) => {\n  let url = `https://www.food2fork.com/api/search?key=${apiKey}`\n  const [showHomeButton, setShowHomeButton] = useState(false)\n  const [recipes, setRecipes] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [search, setSearch] = useState('')\n\n  const fetchRecipe = async () => {\n    try {\n      const recipeData = await fetch(api)\n      const { recipes } = await recipeData.json()\n      setRecipes(recipes)\n      setLoading(false)\n      console.log(recipes)\n    } catch (e) {\n      if (e) {\n        console.log(e.message, 'Try updating the API key in App.js')\n      }\n    }\n  }\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      setLoading(true)\n      const searchUrl = `${url}&q=${search}`\n      const searchedRecipeData = await fetch(searchUrl)\n      const { recipes } = await searchedRecipeData.json()\n      setRecipes(recipes)\n      setLoading(false)\n      setShowHomeButton(true)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  const handleSearchChange = (e) => {\n    setSearch(e.target.value)\n  }\n  const handleReturnHome = () => {\n    fetchRecipe()\n    setShowHomeButton(false)\n  }\n\n  useEffect(() => {\n    fetchRecipe()\n\n  }, [])\n\n  return (\n    <RecipeContext.Provider value={{\n      loading,\n      search,\n      showHomeButton,\n      recipes,\n      handleSearchChange,\n      handleSubmit,\n      handleReturnHome,\n    }}>\n      {props.children}\n    </RecipeContext.Provider>\n  )\n}\nconst RecipeConsumer = RecipeContext.Consumer\nexport { RecipeProvider, RecipeConsumer, RecipeContext }"]},"metadata":{},"sourceType":"module"}